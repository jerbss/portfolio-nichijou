<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Animação V2 - Nichijou</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="img/ICON.png">
    
    <!-- Fontes Google - Estilo Nichijou -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;900&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* =============================================== */
        /* MOTION 3: POLIMENTO - Scroll suave no menu */
        html {
            scroll-behavior: smooth;
        }
        
        :root {
            /* Fundos */
            --bg-white: #FFFFFF;
            --bg-gray-light: #F8F8F8;
            --bg-pastel-pink: #FFF5F5;
            --bg-pastel-yellow: #FFF9E0;
            --bg-pastel-green: #F0FFF5;
            --bg-pastel-blue: #F0F8FF;
            
            /* Cores de títulos (para "Desafio 01", "Desafio 02", etc.) */
            --color-purple: #9B6FD8;
            --color-pink: #FF69B4;
            --color-orange: #FF8C42;
            --color-yellow: #FFD666;
            --color-green: #B8D666;
            --color-cyan: #66D9E8;
            --color-blue: #66B8FF;
            --color-coral: #FF6B6B;
            --color-turquoise: #66D9B8;
            --color-lime: #B8FF66;
            
            /* Texto */
            --text-dark: #333333;
            --text-medium: #666666;
            --text-light: #999999;
            
            /* Sombras */
            --shadow-soft: 0 10px 25px rgba(0, 0, 0, 0.08);
            --shadow-hard: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-white);
            font-family: 'Noto Sans JP', 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            font-weight: 400;
            color: var(--text-dark);
            line-height: 1.8;
            /* Altura dinâmica: calculada automaticamente pelo conteúdo */
        }

        /* O container fixo que centraliza toda a animação */
        .scrolly-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            pointer-events: none;
            background: transparent;
            transition: background 0.3s ease;
        }
        
        .scrolly-container.active {
            background: linear-gradient(180deg, var(--bg-white) 0%, var(--bg-gray-light) 100%);
        }

        /* Estilo base para cada personagem */
        .character {
            /* Tamanho inicial: 50% da viewport (2/4 da tela) */
            max-width: 50vw;
            max-height: 50vh;
            width: auto;
            height: auto;
            position: absolute; /* Permite empilhar as imagens */
            top: 50%; /* centraliza verticalmente dentro do container fixo */
            /* transform será aplicado via CSS específico de cada imagem e JavaScript */
            opacity: 0; /* Começam invisíveis */
            visibility: hidden; /* Escondidos para não interferir */
            filter: drop-shadow(var(--shadow-soft));
            transition: transform 0.35s ease-out, opacity 0.3s ease-out, visibility 0.3s, filter 0.3s ease;
            z-index: 100; /* Maior que os títulos (z-index: 1) */
            /* Otimização GPU para mobile */
            will-change: transform, opacity;
            transform: translateZ(0); /* Force GPU acceleration */
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }

        /* Classe que torna o personagem ativo visível e pronto para animar */
        .character.active {
            opacity: 1;
            visibility: visible;
        }

        /* Posições específicas para cada personagem */
        /* Todas as imagens centralizadas */
        #char1, #char2, #char3, #char4, #char5, #char6, #char7, #char8, #char9, #char10 {
            left: 50%;
            transform: translate3d(-50%, -50%, 0) scale(1);
            /* transform-origin será calculado dinamicamente via JS */
        }

        /* === WRAPPER PARA TÍTULO + PERSONAGEM === */
        .character-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        /* === SEÇÕES DE TRANSIÇÃO DE PERSONAGEM === */
        .character-transition {
            height: 100vh;
            min-height: 100vh;
            max-height: 100vh;
            overflow: hidden;
            position: relative;
            background-color: #F8F8F8; /* Mantém o fundo escuro padrão */
        }

        /* === TÍTULOS NAS SEÇÕES DE PERSONAGEM (ESTILO NICHIJOU) === */
        .challenge-title-bg {
            position: absolute;
            left: 50%; /* Centralizado horizontalmente */
            top: 50%;
            transform: translate(-50%, -50%) rotate(-15deg); /* Centralizado e rotacionado */
            z-index: 1; /* Atrás do personagem */
            pointer-events: none; /* Não interfere no scroll */
            transform-origin: center;
            transition: transform 0.35s ease-out; /* Transição suave para o zoom */
            /* Otimização GPU */
            will-change: transform, opacity;
            transform: translateZ(0);
            backface-visibility: hidden;
        }

        .title-vertical {
            writing-mode: vertical-rl;
            font-family: 'M PLUS Rounded 1c', 'Bebas Neue', 'Arial Black', sans-serif;
            font-size: clamp(48px, 7vw, 64px); /* Aumentei um pouco para mais impacto */
            font-weight: 900;
            color: #e7a15b; /* Laranja atualizado */
            /* text-shadow removido */
            margin: 0;
            letter-spacing: 0.05em;
            line-height: 1;
        }

        .title-details {
            position: absolute;
            left: 80px; /* Espaçamento do título vertical */
            top: 50%; /* Alinhado ao centro */
            transform: translateY(-50%); /* Centraliza verticalmente */
            display: flex;
            flex-direction: column;
            gap: 8px; /* Aumentei o espaçamento */
        }

        .title-subtitle {
            font-family: 'M PLUS Rounded 1c', 'Noto Sans JP', sans-serif;
            font-size: clamp(24px, 3.5vw, 32px); /* Aumentei */
            font-weight: 700; /* Mais peso */
            color: #e7a15b; /* Laranja atualizado */
            margin: 0;
            /* text-shadow removido */
            white-space: nowrap;
        }

        .title-credit {
            font-family: 'Noto Sans JP', sans-serif;
            font-size: clamp(16px, 2.5vw, 20px); /* Aumentei */
            font-weight: 400;
            color: #e7a15b; /* Laranja atualizado */
            margin: 0;
            /* text-shadow removido */
        }

        /* === ESTILOS ESPECÍFICOS PARA PERSONAGENS === */

        /* Estilo para Personagem 1 (Yuko) - Laranja */
        .character-wrapper:not([class*="char-style-"]) .title-vertical,
        .character-wrapper:not([class*="char-style-"]) .title-subtitle,
        .character-wrapper:not([class*="char-style-"]) .title-credit {
            color: #e7a15b;
        }

        /* Estilo para Personagem 2 (Mai) - Verde-limão */
        .char-style-2 .challenge-title-bg {
            transform: translate(-50%, -50%) rotate(15deg); /* Rotação para cima */
        }

        .char-style-2 .title-vertical,
        .char-style-2 .title-subtitle,
        .char-style-2 .title-credit {
            color: #b7cb48; /* Verde-limão */
        }

        /* Estilo para Personagem 3 (Mio) - Rosa */
        .char-style-3 .challenge-title-bg {
            transform: translate(-50%, -50%) rotate(-180deg) skew(20deg, 20deg);
        }

        .char-style-3 .title-vertical,
        .char-style-3 .title-subtitle,
        .char-style-3 .title-credit {
            color: #dc94ac; /* Rosa */
        }

        /* === SEÇÃO DE INTRODUÇÃO === */
        /* === INTRODUÇÃO MINIMALISTA === */
        .intro-section {
            height: 100vh;
            background-color: var(--bg-white);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            box-sizing: border-box;
            position: relative;
            z-index: 10;
        }
        
        .intro-content {
            /* Máximo de espaço negativo ao redor */
            margin: 0;
        }

        .intro-section h1 {
            font-family: 'M PLUS Rounded 1c', 'Noto Sans JP', sans-serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 900;
            color: var(--text-dark);
            margin: 0 0 1rem 0;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        .intro-section p {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            font-weight: 400;
            color: var(--text-medium);
            line-height: 1.6;
            margin: 0.5rem 0;
        }
        
        .intro-highlight {
            font-size: clamp(1.3rem, 3vw, 1.8rem) !important;
            font-weight: 700 !important;
            color: var(--text-dark) !important;
            margin: 0.8rem 0 !important;
            letter-spacing: 0.02em;
        }
        
        .intro-subtitle {
            font-size: clamp(0.9rem, 2vw, 1.1rem) !important;
            color: var(--text-light) !important;
            margin-top: 1.5rem !important;
            font-style: italic;
            font-weight: 400 !important;
        }

        .scroll-prompt {
            /* FIXO NA PARTE INFERIOR */
            position: fixed;
            bottom: 32px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.95rem;
            color: var(--text-light);
            font-weight: 500;
            animation: bounce 2s ease-in-out infinite;
            z-index: 100;
            opacity: 1;
            transition: opacity 0.3s ease-out;
        }
        
        .scroll-prompt.hidden {
            opacity: 0;
            pointer-events: none;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            50% {
                transform: translateX(-50%) translateY(-10px);
            }
        }

        /* === SEÇÕES DE DESAFIO - MODO MOLDURA === */
        /* === SEÇÕES DE DESAFIO - MODO MOLDURA === */
        .challenge-section {
            min-height: 120vh;
            height: auto;
            padding: 80px 40px 100px; /* Padding horizontal simétrico reduzido */
            padding-top: calc(100vh - 200px); /* Título aparece na parte inferior da tela */
            box-sizing: border-box;
            position: relative;
            /* MODO 2: Fundo cinza sólido (estilo abertura Nichijou) */
            background: var(--bg-gray-light);
            opacity: 0;
            /* Começa 50px para baixo, invisível */
            transform: translateY(50px);
            /* Anima a opacidade E a posição */
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .challenge-section.visible {
            opacity: 1;
            /* Sobe para a posição final (0) */
            transform: translateY(0);
        }

        .challenge-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px; /* Padding lateral para garantir simetria */
            box-sizing: border-box;
        }

        .challenge-header {
            text-align: center;
            margin-bottom: 4rem;
        }
        
        /* === WRAPPER PARA TEXTO + GALERIA (mesma largura) === */
        .challenge-content-wrapper {
            max-width: 100%; /* Mesma largura do container pai */
            margin: 0 auto;
        }

        .challenge-title {
            font-family: 'M PLUS Rounded 1c', 'Noto Sans JP', sans-serif;
            font-weight: 900;
            font-size: clamp(48px, 8vw, 96px);
            letter-spacing: 0.02em;
            margin-bottom: 60px;
            line-height: 1.2;
            text-transform: uppercase;
            /* A cor será aplicada via classes específicas */
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease forwards;
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Cores individuais dos títulos - estilo Nichijou */
        .challenge-title-01 {
            color: #e7a15b !important; /* Laranja - Personagem 1 */
        }

        .challenge-title-02 {
            color: #b7cb48 !important; /* Verde-limão - Personagem 2 */
        }

        .challenge-title-03 {
            color: #dc94ac !important; /* Rosa - Personagem 3 */
        }

        .challenge-title-04 {
            color: #884f32 !important; /* Marrom - Personagem 4 */
        }

        .challenge-title-05 {
            color: #d5818e !important; /* Rosa suave - Personagem 5 */
        }

        .challenge-title-06 {
            color: #aa99c5 !important; /* Roxo - Personagem 6 */
        }

        .challenge-title-07 {
            color: #e3755a !important; /* Laranja coral - Personagem 7 */
        }

        .challenge-title-08 {
            color: #58a9ac !important; /* Verde água - Personagem 8 */
        }

        .challenge-title-09 {
            color: #df8f8e !important; /* Rosa claro - Personagem 9 */
        }

        .challenge-title-10 {
            color: #edcd2d !important; /* Amarelo - Personagem 10 */
        }

        .challenge-subtitle {
            font-family: 'M PLUS Rounded 1c', 'Noto Sans JP', sans-serif;
            font-size: clamp(20px, 3vw, 28px);
            font-weight: 600;
            color: var(--text-medium);
            margin: 0;
            line-height: 1.4;
        }
        
        .challenge-content {
            margin-top: 40px;
        }
        
        .challenge-content p {
            margin-bottom: 28px;
            font-size: clamp(16px, 2vw, 18px);
            line-height: 1.9;
        }
        
        .challenge-content h3 {
            font-family: 'M PLUS Rounded 1c', sans-serif;
            font-weight: 700;
            font-size: clamp(24px, 3vw, 32px);
            margin-top: 48px;
            margin-bottom: 24px;
            color: var(--text-dark);
        }

        .challenge-content-box {
            width: 100%; /* Largura total do wrapper */
            margin: 0 0 3rem 0; /* Margem inferior para separar da galeria */
            padding: 0; /* Sem padding - texto flutua */
            background-color: transparent; /* Sem fundo */
            border-radius: 0;
            box-shadow: none;
            border: none;
            line-height: 1.8;
            text-align: left; /* Texto alinhado à esquerda */
        }

        .challenge-content-box p {
            font-size: 1.05rem;
            line-height: 1.9;
            color: var(--text-medium);
            margin: 0 0 1.5rem 0;
        }

        .challenge-content-box p:last-child {
            margin-bottom: 0;
        }

        .challenge-content-box ul {
            color: var(--text-medium);
            font-size: 1.05rem;
            line-height: 1.9;
            margin: 0 0 1.5rem 0;
            padding-left: 1.5rem;
        }

        .challenge-content-box ul li {
            margin-bottom: 0.75rem;
        }

        .challenge-content-box ul li:last-child {
            margin-bottom: 0;
        }

        .challenge-gallery {
            width: 100%; /* Mesma largura do texto */
            margin: 0; /* Sem margem extra */
            display: flex;
            flex-direction: column;
            gap: 24px;
            /* === A MOLDURA BRANCA (agrupa as imagens) === */
            background: var(--bg-white);
            padding: 40px;
            border-radius: 12px;
            box-shadow: var(--shadow-soft);
            box-sizing: border-box; /* ✅ Inclui padding no cálculo da largura */
        }

        .challenge-gallery img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .challenge-gallery img:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }

        /* Animação de entrada para seções de conteúdo */
        .challenge-section {
            opacity: 0;
            transition: opacity 0.6s ease-out;
        }

        .challenge-section.visible {
            opacity: 1;
        }

        /* Responsividade para mobile */
        @media (max-width: 768px) {
            .challenge-title {
                font-size: 2rem;
            }
            
            .challenge-subtitle {
                font-size: 1.2rem;
            }
            
            /* Gallery já é coluna única - não precisa override */
        }

        /* === MENU DE NAVEGAÇÃO === */
        .menu-button {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border: none;
            border-radius: 50%;
            background-color: #333;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease, background-color 0.2s ease;
        }

        .menu-button:hover {
            transform: scale(1.1);
            background: rgba(0, 0, 0, 0.85);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 9999;
            opacity: 1;
            transition: opacity 0.3s ease-out;
            overflow-y: auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .menu-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .menu-close {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border: none;
            border-radius: 50%;
            background-color: #555;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
            z-index: 10000;
        }

        .menu-close:hover {
            background-color: #777;
            transform: rotate(90deg);
        }

        .menu-container {
            max-width: 900px;
            width: 90%;
            margin: 0 auto;
        }

        .menu-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            justify-items: center;
        }

        .menu-list li {
            width: 100%;
        }

        .menu-list a {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            border-radius: 12px;
            text-decoration: none;
            color: white;
            transition: all 0.2s;
            background: rgba(255, 255, 255, 0.03);
        }

        .menu-list a:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(10px);
        }
        
        .menu-list a:hover .menu-text {
            color: var(--color-cyan);
        }

        .menu-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.4);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            flex-shrink: 0;
        }

        .menu-text {
            font-size: 18px;
            font-weight: 500;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .menu-subtitle {
            font-size: 14px;
            font-weight: 400;
            opacity: 0.7;
        }

        @media (max-width: 768px) {
            .menu-overlay {
                align-items: flex-start;
                padding: 0;
                overflow-y: auto; /* Permite scroll */
                -webkit-overflow-scrolling: touch; /* Scroll suave iOS */
            }
            
            .menu-container {
                width: 100%;
                max-width: 100%;
                min-height: 100vh; /* Permite expandir se necessário */
                display: flex;
                flex-direction: column;
                padding: 70px 20px 20px; /* Espaço pro botão X */
                box-sizing: border-box;
            }
            
            .menu-list {
                grid-template-columns: 1fr 1fr; /* 2 colunas no mobile */
                gap: 10px;
                padding: 10px 0;
                width: 100%;
            }
            
            .menu-list li {
                width: 100%;
            }
            
            .menu-list a {
                padding: 12px 10px;
                gap: 10px;
                flex-direction: column; /* Círculo em cima, texto embaixo */
                text-align: center;
                min-height: 110px; /* Garante altura consistente */
                justify-content: center;
            }
            
            .menu-circle {
                width: 45px;
                height: 45px;
                font-size: 16px;
            }
            
            .menu-text {
                font-size: 13px;
                line-height: 1.3;
            }
            
            .menu-subtitle {
                font-size: 11px;
            }
            
            .menu-close {
                top: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
                z-index: 10001;
            }
        }
        
        /* Telas muito pequenas (altura baixa) */
        @media (max-width: 768px) and (max-height: 700px) {
            .menu-container {
                padding: 60px 15px 15px;
            }
            
            .menu-list {
                gap: 8px;
            }
            
            .menu-list a {
                min-height: 95px;
                padding: 10px 8px;
            }
            
            .menu-circle {
                width: 40px;
                height: 40px;
                font-size: 14px;
            }
            
            .menu-text {
                font-size: 12px;
            }
            
            .menu-subtitle {
                font-size: 10px;
            }
        }

        /* === SEÇÃO DE CONTATO === */
        .contact-section {
            min-height: 100vh;
            background-color: #ffffff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 4rem 2rem;
            box-sizing: border-box;
            position: relative;
            z-index: 10;
        }

        .contact-section h2 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #333;
            margin: 0 0 1.5rem 0;
            line-height: 1.2;
        }

        .contact-section > p {
            font-size: 1.1rem;
            font-weight: 400;
            color: #666;
            line-height: 1.8;
            margin: 0 0 3rem 0;
            max-width: 600px;
        }

        .contact-links {
            display: flex;
            gap: 2rem;
            justify-content: center;
            align-items: center;
            margin-bottom: 4rem;
            flex-wrap: wrap;
        }

        .contact-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            color: #555;
            transition: transform 0.3s ease, color 0.3s ease;
        }

        .contact-link:hover {
            transform: translateY(-5px);
            color: #333;
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            background-color: #f0f0f0;
            transition: background-color 0.3s ease;
        }

        .contact-link:hover .contact-icon {
            background-color: #e0e0e0;
        }

        .contact-icon svg {
            width: 24px;
            height: 24px;
            fill: #555;
        }

        .contact-link span {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .contact-section footer {
            margin-top: auto;
            padding-top: 2rem;
            border-top: 1px solid #e0e0e0;
            width: 100%;
            max-width: 600px;
        }

        .contact-section footer p {
            font-size: 0.9rem;
            color: #999;
            margin: 0;
        }

        @media (max-width: 768px) {
            .contact-section h2 {
                font-size: 2rem;
            }

            .contact-links {
                gap: 1.5rem;
            }

            .contact-icon {
                width: 45px;
                height: 45px;
            }

            .contact-icon svg {
                width: 20px;
                height: 20px;
            }
        }

        /* === MEDIA QUERIES CONSOLIDADAS PARA MOBILE === */
        @media (max-width: 768px) {
            /* Seção de Introdução */
            .intro-section {
                padding: 1.5rem;
            }

            .scroll-prompt {
                bottom: 24px;
                font-size: 0.85rem;
            }

            /* Personagens - Ajuste do tamanho para evitar overflow */
            .character {
                /* Mobile: 50% da viewport também */
                max-width: 50vw;
                max-height: 50vh;
            }
            
            /* Títulos das seções de personagem - Mobile */
            .challenge-title-bg {
                left: 50%; /* Mantém centralizado */
                transform: translate(-50%, -50%) rotate(-15deg); /* Centralizado com rotação */
            }
            
            /* Ajustes específicos por rotação para garantir visibilidade total */
            .char-style-2 .challenge-title-bg {
                transform: translate(-50%, -50%) rotate(15deg);
            }
            
            .char-style-3 .challenge-title-bg {
                transform: translate(-50%, -50%) rotate(-180deg) skew(20deg, 20deg);
            }
            
            .title-vertical {
                font-size: 36px;
            }
            
            .title-details {
                left: 55px;
            }
            
            .title-subtitle {
                font-size: 20px;
            }
            
            .title-credit {
                font-size: 12px;
            }

            /* Seções de Desafio - Tipografia Responsiva */
            .challenge-section {
                padding: 40px 16px 60px;
                padding-top: calc(100vh - 180px); /* Título na parte inferior também no mobile */
            }
            
            .challenge-gallery {
                /* Moldura mais compacta no mobile */
                padding: 24px 20px;
                border-radius: 8px;
                margin-top: 2rem;
            }

            .challenge-header {
                margin-bottom: 2.5rem;
            }

            .challenge-title {
                margin-bottom: 40px;
            }

            .challenge-subtitle {
                font-size: clamp(18px, 4vw, 24px);
            }
            
            .challenge-content-wrapper {
                /* Mobile: sem padding extra - usa o do container */
                max-width: 100%;
                padding: 0;
            }
            
            .challenge-container {
                padding: 0 20px; /* Padding do container para mobile */
            }

            .challenge-content-box {
                padding: 0;
                margin-bottom: 2rem;
            }

            .challenge-content-box p {
                font-size: 0.95rem;
                line-height: 1.7;
            }

            /* Gallery - 1 coluna em mobile */
            
            .challenge-gallery {
                gap: 20px; /* Gap um pouco menor no mobile */
            }

            /* Menu - ajuste do botão */
            .menu-button {
                width: 45px;
                height: 45px;
                font-size: 1.3rem;
                top: 15px;
                right: 15px;
            }

            .menu-close {
                width: 45px;
                height: 45px;
                top: 15px;
                right: 15px;
            }

            /* Seção de Contato */
            .contact-section {
                padding: 3rem 1.5rem;
            }

            .contact-section h2 {
                font-size: 2rem;
            }

            .contact-section > p {
                font-size: 1rem;
                margin-bottom: 2rem;
            }

            .contact-links {
                gap: 1.5rem;
            }

            .contact-icon {
                width: 45px;
                height: 45px;
            }

            .contact-icon svg {
                width: 20px;
                height: 20px;
            }

            .contact-link span {
                font-size: 0.85rem;
            }

            .contact-section footer p {
                font-size: 0.85rem;
            }
        }

        /* === MEDIA QUERY PARA TELAS MUITO PEQUENAS === */
        @media (max-width: 480px) {
            .scroll-prompt {
                bottom: 20px;
                font-size: 0.8rem;
            }
            
            /* Títulos das seções - Telas muito pequenas */
            .challenge-title-bg {
                left: 50%; /* Mantém centralizado */
                transform: translate(-50%, -50%) rotate(-15deg);
            }
            
            /* Ajustes específicos por rotação */
            .char-style-2 .challenge-title-bg {
                transform: translate(-50%, -50%) rotate(15deg);
            }
            
            .char-style-3 .challenge-title-bg {
                transform: translate(-50%, -50%) rotate(-180deg) skew(20deg, 20deg);
            }
            
            .title-vertical {
                font-size: 32px;
            }
            
            .title-details {
                left: 45px;
            }

            .challenge-title {
                font-size: 1.7rem;
            }

            .challenge-subtitle {
                font-size: 1.1rem;
            }

            .contact-section h2 {
                font-size: 1.7rem;
            }

            .contact-links {
                gap: 1.2rem;
            }

            .contact-icon {
                width: 40px;
                height: 40px;
            }

            .contact-icon svg {
                width: 18px;
                height: 18px;
            }
        }
        
        /* Loading State */
        body.loading {
            overflow: hidden;
        }

        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: var(--bg-white);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 1;
            transition: opacity 0.5s ease;
        }

        .loader.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--bg-gray-light);
            border-top: 4px solid var(--color-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* =============================================== */
        /* LIGHTBOX / GALERIA MODAL */
        /* =============================================== */
        
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.92);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            animation: lightboxFadeIn 0.25s ease;
        }
        
        .lightbox.active {
            display: flex;
        }
        
        @keyframes lightboxFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .lightbox-content {
            position: relative;
            max-width: 85vw;
            max-height: 85vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .lightbox-image {
            max-width: 100%;
            max-height: 85vh;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        /* ==================== DESKTOP CONTROLS ==================== */
        
        /* Botão Fechar (X) - Desktop */
        .lightbox-close {
            position: absolute;
            top: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s ease;
            z-index: 10001;
        }
        
        .lightbox-close:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
        }
        
        .lightbox-close:active {
            transform: scale(0.95);
        }
        
        .lightbox-close::before,
        .lightbox-close::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 2px;
            background: white;
            border-radius: 1px;
        }
        
        .lightbox-close::before {
            transform: rotate(45deg);
        }
        
        .lightbox-close::after {
            transform: rotate(-45deg);
        }
        
        /* Setas de Navegação - Desktop (laterais) */
        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s ease;
            z-index: 10001;
        }
        
        .lightbox-nav:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-50%) scale(1.05);
        }
        
        .lightbox-nav:active {
            transform: translateY(-50%) scale(0.95);
        }
        
        .lightbox-nav.prev {
            left: 40px;
        }
        
        .lightbox-nav.next {
            right: 40px;
        }
        
        .lightbox-nav::before {
            content: '';
            width: 12px;
            height: 12px;
            border-left: 2px solid white;
            border-bottom: 2px solid white;
        }
        
        .lightbox-nav.prev::before {
            transform: rotate(45deg);
            margin-left: 3px;
        }
        
        .lightbox-nav.next::before {
            transform: rotate(-135deg);
            margin-right: 3px;
        }
        
        /* Contador - Desktop */
        .lightbox-counter {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 10px 22px;
            border-radius: 30px;
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 0.95rem;
            font-weight: 400;
            z-index: 10001;
            letter-spacing: 1px;
        }
        
        /* ==================== MOBILE CONTROLS ==================== */
        
        @media (max-width: 768px) {
            .lightbox-content {
                max-width: 95vw;
                max-height: 75vh;
            }
            
            .lightbox-image {
                max-height: 75vh;
                border-radius: 6px;
            }
            
            /* Botão Fechar - Mobile (maior e mais acessível) */
            .lightbox-close {
                top: 20px;
                right: 20px;
                width: 54px;
                height: 54px;
            }
            
            .lightbox-close::before,
            .lightbox-close::after {
                width: 22px;
            }
            
            /* Setas movem para BAIXO no mobile (thumb zone) */
            .lightbox-nav {
                top: auto;
                bottom: 30px;
                transform: none;
                width: 60px;
                height: 60px;
            }
            
            .lightbox-nav:hover {
                transform: scale(1.05);
            }
            
            .lightbox-nav:active {
                transform: scale(0.95);
            }
            
            .lightbox-nav.prev {
                left: 20px;
            }
            
            .lightbox-nav.next {
                right: 20px;
            }
            
            .lightbox-nav.prev::before {
                margin-left: 2px;
            }
            
            .lightbox-nav.next::before {
                margin-right: 2px;
            }
            
            /* Contador - Mobile (sobe para não conflitar com setas) */
            .lightbox-counter {
                bottom: 110px;
                padding: 8px 18px;
                font-size: 0.9rem;
            }
        }
        
        /* Extra pequeno (iPhone SE, etc) */
        @media (max-width: 400px) {
            .lightbox-close {
                width: 50px;
                height: 50px;
                top: 15px;
                right: 15px;
            }
            
            .lightbox-nav {
                width: 56px;
                height: 56px;
                bottom: 25px;
            }
            
            .lightbox-nav.prev {
                left: 15px;
            }
            
            .lightbox-nav.next {
                right: 15px;
            }
            
            .lightbox-counter {
                bottom: 100px;
                font-size: 0.85rem;
                padding: 7px 16px;
            }
        }
        
        /* Adiciona cursor pointer e efeito sutil nas imagens da galeria */
        .challenge-gallery img {
            cursor: pointer;
            transition: all 0.25s ease;
            border-radius: 8px;
        }
        
        .challenge-gallery img:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        .challenge-gallery img:active {
            transform: translateY(0);
        }
    </style>
</head>
<body>

    <!-- LOADER -->
    <div class="loader" id="loader">
        <div class="loader-spinner"></div>
    </div>

    <!-- MENU DE NAVEGAÇÃO -->
    <button id="menu-toggle" class="menu-button" aria-label="Abrir menu">☰</button>
    
    <nav id="menu-overlay" class="menu-overlay hidden">
        <button class="menu-close" aria-label="Fechar menu">✕</button>
        <div class="menu-container">
            <ul class="menu-list">
                <li>
                    <a href="#intro" data-index="0">
                        <span class="menu-circle" style="background-color: #999;">▲</span>
                        <span class="menu-text">
                            Início
                            <span class="menu-subtitle">Apresentação</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-01" data-index="1">
                        <span class="menu-circle" style="background-color: #e7a15b;">01</span>
                        <span class="menu-text">
                            Desafio 01
                            <span class="menu-subtitle">Imersão</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-02" data-index="2">
                        <span class="menu-circle" style="background-color: #b7cb48;">02</span>
                        <span class="menu-text">
                            Desafio 02
                            <span class="menu-subtitle">Análise</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-03" data-index="3">
                        <span class="menu-circle" style="background-color: #dc94ac;">03</span>
                        <span class="menu-text">
                            Desafio 03
                            <span class="menu-subtitle">Apropriação</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-04" data-index="4">
                        <span class="menu-circle" style="background-color: #884f32;">04</span>
                        <span class="menu-text">
                            Desafio 04
                            <span class="menu-subtitle">Reconstrução</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-05" data-index="5">
                        <span class="menu-circle" style="background-color: #d5818e;">05</span>
                        <span class="menu-text">
                            Desafio 05
                            <span class="menu-subtitle">Opinião</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-06" data-index="6">
                        <span class="menu-circle" style="background-color: #aa99c5;">06</span>
                        <span class="menu-text">
                            Desafio 06
                            <span class="menu-subtitle">Debate</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-07" data-index="7">
                        <span class="menu-circle" style="background-color: #e3755a;">07</span>
                        <span class="menu-text">
                            Desafio 07
                            <span class="menu-subtitle">Gestão</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-08" data-index="8">
                        <span class="menu-circle" style="background-color: #58a9ac;">08</span>
                        <span class="menu-text">
                            Desafio 08
                            <span class="menu-subtitle">Documentação</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-09" data-index="9">
                        <span class="menu-circle" style="background-color: #df8f8e;">09</span>
                        <span class="menu-text">
                            Desafio 09
                            <span class="menu-subtitle">Avaliação</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#challenge-10" data-index="10">
                        <span class="menu-circle" style="background-color: #edcd2d;">10</span>
                        <span class="menu-text">
                            Desafio 10
                            <span class="menu-subtitle">Exposição</span>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#contact" data-index="11">
                        <span class="menu-circle" style="background-color: #666;">▼</span>
                        <span class="menu-text">
                            Fim
                            <span class="menu-subtitle">Contato e créditos</span>
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- SEÇÃO DE INTRODUÇÃO -->
    <section id="intro" class="intro-section">
        <div class="intro-content">
            <h1>Portfólio Nichijou</h1>
            <p class="intro-highlight">10 Desafios</p>
            <p class="intro-subtitle">Direção de Arte para Multimídia</p>
        </div>
        <div class="scroll-prompt">Role para começar ↓</div>
    </section>

    <!-- CONTAINER DA ANIMAÇÃO -->
    <div class="scrolly-container">
        <!-- 10 personagens para os 10 desafios -->
        
        <!-- Personagem 1 + Título -->
        <div class="character-wrapper">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 01</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Imersão</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char1" class="character" src="img/PERSONAGEM_01.png" alt="Personagem 1">
        </div>
        
        <!-- Personagem 2 + Título -->
        <div class="character-wrapper char-style-2">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 02</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Análise</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char2" class="character" src="img/PERSONAGEM_02.png" alt="Personagem 2">
        </div>
        
        <!-- Personagem 3 + Título -->
        <div class="character-wrapper char-style-3">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 03</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Apropriação</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char3" class="character" src="img/PERSONAGEM_03.png" alt="Personagem 3">
        </div>
        
        <!-- Personagem 4 + Título -->
        <div class="character-wrapper">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 04</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Reconstrução</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char4" class="character" src="img/PERSONAGEM_04.png" alt="Personagem 4">
        </div>
        
        <!-- Personagem 5 + Título -->
        <div class="character-wrapper">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 05</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Opinião</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char5" class="character" src="img/PERSONAGEM_05.png" alt="Personagem 5">
        </div>
        
        <!-- Personagem 6 + Título -->
        <div class="character-wrapper">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 06</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Debate</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char6" class="character" src="img/PERSONAGEM_06.png" alt="Personagem 6">
        </div>
        
        <!-- Personagem 7 + Título -->
        <div class="character-wrapper">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 07</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Gestão</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char7" class="character" src="img/PERSONAGEM_07.png" alt="Personagem 7">
        </div>
        
        <!-- Personagem 8 + Título -->
        <div class="character-wrapper">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 08</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Documentação</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char8" class="character" src="img/PERSONAGEM_08.png" alt="Personagem 8">
        </div>
        
        <!-- Personagem 9 + Título -->
        <div class="character-wrapper">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 09</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Avaliação</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char9" class="character" src="img/PERSONAGEM_09.png" alt="Personagem 9">
        </div>
        
        <!-- Personagem 10 + Título -->
        <div class="character-wrapper">
            <div class="challenge-title-bg">
                <h2 class="title-vertical">DESAFIO 10</h2>
                <div class="title-details">
                    <h3 class="title-subtitle">Exposição</h3>
                    <p class="title-credit">Jerbesson Silva</p>
                </div>
            </div>
            <img id="char10" class="character" src="img/PERSONAGEM_10.png" alt="Personagem 10">
        </div>
    </div>

    <!-- === SEÇÕES DE DESAFIOS === -->
    
    <!-- TRANSIÇÃO PERSONAGEM 1 -->
    <div class="character-transition" id="character-transition-1"></div>
    
    <!-- DESAFIO 01 -->
    <section class="challenge-section" id="challenge-01" data-color="#A89BCA">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-01">Imersão</h2>
                <h3 class="challenge-subtitle">Desafio 01</h3>
            </div>
            
            <!-- Wrapper para alinhar texto e galeria na mesma largura -->
            <div class="challenge-content-wrapper">
                <div class="challenge-content-box">                    
                    <p><em>Chainsaw Man</em> bebe direto da fonte do <strong>cinema cult</strong>: <em>O Massacre da Serra Elétrica</em>, Tarantino, filmes coreanos e toda a estética do <em>cinema B</em>. O Fujimoto não tá interessado em fazer algo limpo ou convencional; ele quer o <strong>visual sujo</strong>, a <strong>violência gráfica</strong> e aquele ritmo imprevisível que você encontra em filmes <em>grindhouse</em>. A <strong>estética punk</strong> permeia tudo, desde o design até a forma como as cenas se desenrolam. O cara é fã de Tarantino e irmãos Coen, e isso aparece na obra como um todo.</p>
                    
                    <p>Essas referências impactam até a <strong>quadrinização do mangá</strong>. O Fujimoto usa <strong>painéis repetidos</strong> pra criar tensão, lutas que surgem de forma repentina e aleatória, tudo pegando essa <strong>linguagem de montagem cinematográfica</strong> e jogando pro papel. A linguagem é cinematográfica: ele usa <strong>cortes bruscos</strong>, apresenta eventos importantes fora de quadro, e trabalha com a ideia de que a <strong>vida é frágil</strong>. Qualquer um pode morrer, independentemente de sua honra, e isso cria uma tensão constante na leitura.</p>
                    
                    <p>O <strong>design de personagens</strong> foge completamente do padrão <em>shounen</em>. Fujimoto trabalha com <strong>rostos anti-cool</strong>, serventes e comparsa ao invés de heróis tradicionais — o Kishibe, por exemplo, foi inspirado em Mads Mikkelsen. Os personagens são contraditórios e humanos demais, as situações fogem do convencional, e as cenas chocantes não são gratuitas: elas constroem o <strong>universo caótico</strong> que a obra propõe. O resultado é um <strong>remix bem executado</strong> de cinema cult e mangá, trazendo algo pop mas com <strong>energia bruta</strong> de forma que funciona muito bem.</p>
                </div>
                
                <div class="challenge-gallery">
                    <img src="img/DESAFIO01_01.jpg" alt="Desafio 01 - Imagem 1">
                    <img src="img/DESAFIO01_02.png" alt="Desafio 01 - Imagem 2">
                    <img src="img/DESAFIO01_03.png" alt="Desafio 01 - Imagem 3">
                </div>
            </div>
        </div>
    </section>

    <!-- TRANSIÇÃO PERSONAGEM 2 -->
    <div class="character-transition" id="character-transition-2"></div>

    <!-- DESAFIO 02 -->
    <section class="challenge-section" id="challenge-02" data-color="#FF9FB3">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-02">Análise</h2>
                <h3 class="challenge-subtitle">Desafio 02</h3>
            </div>
            <div class="challenge-content-box">                
                <p>Quando o desafio era propor um redesign pro <em>Acquaria</em> (2003) caso ele fosse lançado hoje, a gente queria <strong>experimentar tudo</strong> que o jogo original não entregava. <em>Persona 5</em> serviu de referência forte pra repensar como <strong>diálogos podem ser dinâmicos e naturais</strong> no fluxo do jogo, diferente do <em>Acquaria</em> antigo onde conversa simplesmente trava a experiência. A ideia era que os diálogos acrescentassem algo, mas nunca atropelassem a exploração.</p>
                
                <p>Olhando pra <em>Hades</em> e <em>Diablo</em>, trouxemos uma <strong>câmera mais aberta</strong>, que deixa o cenário respirar e facilita explorar — algo que <em>Acquaria</em> sempre pediu, mas nunca entregou totalmente. <em>Sky: Children of the Light</em> entrou em cena pra resolver o desejo de transformar a experiência em algo <strong>coletivo e online</strong>, com jogadores se ajudando e descobrindo juntos o mundo.</p>
                
                <p>Esteticamente, a gente buscou referências em <em>sertão-punk</em>, <em>Journey</em> e <em>Sable</em> pra construir um <strong>deserto vivo</strong>, onde o <strong>cenário funciona como personagem</strong>. Não criamos um <em>wireframe</em> completo, mas reunimos <strong>referências sólidas</strong> pra começar a pensar no jogo novo. O <em>Acquaria</em> reimaginado pega a nostalgia do original e joga pra frente, construindo algo que respira <strong>exploração coletiva</strong> num mundo que te absorve.</p>
            </div>
            <div class="challenge-gallery">
                <img src="img/DESAFIO02_01.jpg" alt="Desafio 02 - Imagem 1">
                <img src="img/DESAFIO02_02.jpg" alt="Desafio 02 - Imagem 2">
                <img src="img/DESAFIO02_03.jpg" alt="Desafio 02 - Imagem 3">
                <img src="img/DESAFIO02_04.jpg" alt="Desafio 02 - Imagem 4">
            </div>
    </section>

    <!-- TRANSIÇÃO PERSONAGEM 3 -->
    <div class="character-transition" id="character-transition-3"></div>

    <!-- DESAFIO 03 -->
    <section class="challenge-section" id="challenge-03" data-color="#8DD5E7">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-03">Apropriação</h2>
                <h3 class="challenge-subtitle">Desafio 03</h3>
            </div>
            <div class="challenge-content-box">                
                <p>Para o desafio de pegar uma obra inusitada e explicar o porquê, não teve como ignorar essa ilustração do <strong>Slipknot</strong> feita pelo Sean Solomon. O bagulho me pegou na primeira olhada: pega tudo que a banda representa — <strong>caos, peso, terror</strong> — e vira do avesso. As máscaras icônicas, os nove integrantes: tá tudo lá, só que num <strong>piquenique ensolarado</strong>, com arco-íris, paz e aquele clima de desenho animado de sábado de manhã.</p>
                
                <p>O <strong>contraste é tão absurdo que funciona</strong>. Quem conhece Slipknot só de foto já estranha; quem conhece a banda de verdade sente o tamanho da subversão. Solomon consegue <strong>manter a essência</strong> — você reconhece cada integrante pelas máscaras — mas troca completamente o contexto. É engraçado, mas não vira piada. A obra questiona quanto um artista consegue virar <strong>símbolos pesados em algo afetivo</strong> sem perder o que eles significam.</p>
                
                <p>Obra original de Sean Solomon: <a href="https://instagram.com/p/CT0ATACvvJf/" target="_blank" rel="noopener noreferrer">instagram.com/p/CT0ATACvvJf/</a></p>
            </div>
            <div class="challenge-gallery">
                <img src="img/DESAFIO03_01.jpg" alt="Desafio 03 - Imagem 1">
            </div>
        </div>
    </section>

    <!-- TRANSIÇÃO PERSONAGEM 4 -->
    <div class="character-transition" id="character-transition-4"></div>

    <!-- DESAFIO 04 -->
    <section class="challenge-section" id="challenge-04" data-color="#4A6FA5">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-04">Reconstrução</h2>
                <h3 class="challenge-subtitle">Desafio 04</h3>
            </div>
            <div class="challenge-content-box">                
                <p>Pra esse desafio, precisei misturar <em>Stardew Valley</em>, K-Pop e algo educativo. A ideia foi pegar a <strong>mecânica de gestão e grind</strong> do <em>Stardew</em> (que eu nunca tinha jogado) e adaptar pro universo K-pop, mantendo a <strong>pressão real da indústria</strong>.</p>
                
                <p>A fazenda virou um <strong>estúdio de treinamento em Seul</strong>. Em vez de barra de energia pra plantar, você tem uma barra de <strong>"Foco"</strong> pra treinar. E o mais importante: você não começa com dinheiro. Você começa com uma <strong>dívida pesada</strong> com a gravadora, e o objetivo é quitar isso enquanto sobrevive às avaliações mensais pra não ser demitido.</p>
                
                <p>O jogo <strong>não tem tutorial ou aulas</strong>. Você aprende na prática, através das mecânicas e das consequências das suas escolhas. <strong>Gestão de tempo</strong> exige que você balance treino, descanso e <em>networking</em> — treinar demais causa <em>burnout</em>, que te penaliza com perda de performance e custos maiores. <strong>Puzzles de coreano</strong> aparecem durante negociações com produtores, e resolver eles desbloqueia melhores oportunidades e contratos. A <strong>dívida funciona como sua barra de HP</strong>: você aprende sobre pressão financeira, juros e gestão de recursos porque cada escolha errada aumenta sua dívida e te aproxima do <em>game over</em>.</p>
                
                <p>Saí do <em>cozy</em> e fui pro <strong>Dark Neon Corporativo</strong>. O ambiente é escuro (preto/cinza-carvão) pra refletir a pressão constante da indústria. A UI usa <strong>cores neon agressivas</strong>: ciano pro Foco, vermelho crítico pra Dívida, amarelo pra Alertas. A ideia é que os números gritem na sua cara o tempo todo.</p>
            </div>
            <div class="challenge-gallery">
                <img src="img/DESAFIO04_01.png" alt="Desafio 04 - Sketch">
                <img src="img/DESAFIO04_02.png" alt="Desafio 04 - Lineart">
                <img src="img/DESAFIO04_03.png" alt="Desafio 04 - Color Blockout">
                <img src="img/DESAFIO04_04.png" alt="Desafio 04 - Mockup-Alvo">
            </div>
        </div>
    </section>

    <!-- TRANSIÇÃO PERSONAGEM 5 -->
    <div class="character-transition" id="character-transition-5"></div>

    <!-- DESAFIO 05 -->
    <section class="challenge-section" id="challenge-05" data-color="#6FB7A5">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-05">Opinião</h2>
                <h3 class="challenge-subtitle">Desafio 05</h3>
            </div>
            <div class="challenge-content-box">                
                <p><em>Grow</em> mostra que as mesmas ações podem gerar <strong>finais completamente diferentes</strong> só mudando a sequência das escolhas. Os dez elementos se transformam de formas absurdas dependendo da ordem: água vira ouro, cubo vira tartaruga, e por aí vai. A experiência não tá em acertar, mas em <strong>descobrir como cada combinação altera o resultado</strong>.</p>
                
                <p>O jogo funciona pela <strong>tentativa e erro</strong>. Você clica, vê o que acontece, testa outra sequência. Não tem punição real por errar, só transformações diferentes. O lance é que cada tentativa te ensina algo sobre como os elementos interagem, e isso acaba sendo mais interessante que simplesmente acertar a sequência "correta" de primeira.</p>
            </div>
            <div class="challenge-gallery">
                <img src="img/DESAFIO05_01.png" alt="Desafio 05 - Grow Cube">
            </div>
        </div>
    </section>

    <!-- TRANSIÇÃO PERSONAGEM 6 -->
    <div class="character-transition" id="character-transition-6"></div>

    <!-- DESAFIO 06 -->
    <section class="challenge-section" id="challenge-06" data-color="#7FD99A">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-06">Debate</h2>
                <h3 class="challenge-subtitle">Desafio 06</h3>
            </div>
            <div class="challenge-content-box">
                <p><strong>Vantagens:</strong></p>
                <ul>
                    <li>O humano consegue focar mais em <strong>questões estratégicas e de negócios</strong> enquanto delega atividades repetitivas ou operacionais pra IA, sobrando mais tempo pra criatividade</li>
                    <li>Decisões podem ser tomadas com base em <strong>dados analisados em tempo real</strong>, aumentando precisão e agilidade no processo</li>
                    <li>Facilita a <strong>exploração de múltiplas direções visuais</strong> rapidamente, acelerando a fase de conceituação</li>
                </ul>

                <p><strong>Desvantagens:</strong></p>
                <ul>
                    <li>A possibilidade de <strong>desconexão emocional com o público-alvo</strong> é maior</li>
                    <li><strong>Dependência excessiva de IA</strong> pode levar à perda de senso crítico sobre as próprias escolhas</li>
                    <li>Dificuldade em <strong>adaptar-se a contextos imprevistos</strong> ou nuances culturais e comportamentais do público, que a máquina pode não captar</li>
                </ul>
            </div>
            <div class="challenge-gallery">
                <img src="img/DESAFIO06_01.png" alt="Desafio 06 - IA em Direção de Arte">
            </div>
            </div>
        </div>
    </section>

    <!-- TRANSIÇÃO PERSONAGEM 7 -->
    <div class="character-transition" id="character-transition-7"></div>

    <!-- DESAFIO 07 -->
    <section class="challenge-section" id="challenge-07" data-color="#FF9B71">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-07">Gestão</h2>
                <h3 class="challenge-subtitle">Desafio 07</h3>
            </div>
            <div class="challenge-content-box">                
                <p>Na nossa proposta, criamos um protótipo de instalação onde a <em>gamificação</em> gira em torno de <strong>colecionáveis inspirados nos animais do SMD</strong>: sapo, coruja, cobra e cachorro. Cada animal representa uma trilha — sapo com jogos digitais, coruja com animação e audiovisual, cobra com sistemas multimídia e cachorro com design digital interativo. Conforme o participante vai pras palestras de uma trilha, o animal correspondente <strong>evolui</strong>, chegando ao máximo se completar todas daquela área.</p>
                
                <p>A ideia une o espírito do curso: <strong>misturar diferentes conhecimentos, gerar interação</strong> e facilitar que as pessoas circulem pelo evento de forma espontânea. Ao invés de deixar os participantes perdidos ou só assistindo, os animais, suas evoluções e a busca por trilhas viram um <strong>motivo lúdico</strong> pra explorar, se engajar e entender como o SMD é plural. O protótipo físico funcionava como <strong>ponto central</strong> onde os participantes podiam visualizar suas coleções e progresso nas trilhas.</p>
            </div>
            <div class="challenge-gallery">
                <img src="img/DESAFIO07_01.jpg" alt="Desafio 07 - Instalação Interativa 1">
                <img src="img/DESAFIO07_02.jpg" alt="Desafio 07 - Instalação Interativa 2">
                <img src="img/DESAFIO07_03.jpg" alt="Desafio 07 - Instalação Interativa 3">
            </div>
        </div>
    </section>

    <!-- TRANSIÇÃO PERSONAGEM 8 -->
    <div class="character-transition" id="character-transition-8"></div>

    <!-- DESAFIO 08 -->
    <section class="challenge-section" id="challenge-08" data-color="#FFD966">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-08">Documentação</h2>
                <h3 class="challenge-subtitle">Desafio 08</h3>
            </div>
            <div class="challenge-content-box">                
                <p>O desenvolvimento começou pelo <strong>fluxo da instalação</strong>, desenhado em conjunto pra definir os caminhos do visitante e as principais interações previstas no evento. Em seguida, partimos pros desenhos dos personagens e <em>wireframes</em> — essas etapas aconteceram de forma simultânea, com a equipe explorando tanto a identidade visual quanto a experiência do usuário no espaço.</p>
                
                <p>Ao terminar cada ilustração, o papel era entregue pra outro integrante colorir e, em seguida, recortar os personagens. Esse material era então colado em palitos de papel, criando <strong>pequenos marcadores que funcionaram como protótipos físicos</strong> dos colecionáveis, aproximando o experimento da proposta final.</p>
                
                <p>Esse processo coletivo, que avançou em etapas ágeis, permitiu validar rapidamente cada aspecto da instalação e integrar todos os membros no resultado. A documentação mostra não só os registros, mas como cada pessoa contribuiu pra transformar uma ideia em protótipo físico e visual.</p>
            </div>
            <div class="challenge-gallery">
                <img src="img/DESAFIO08_01.jpg" alt="Desafio 08 - Processo de Construção 1">
                <img src="img/DESAFIO08_02.jpg" alt="Desafio 08 - Processo de Construção 2">
                <img src="img/DESAFIO08_03.jpg" alt="Desafio 08 - Processo de Construção 3">
                <img src="img/DESAFIO08_04.jpg" alt="Desafio 08 - Processo de Construção 4">
            </div>
        </div>
    </section>

    <!-- TRANSIÇÃO PERSONAGEM 9 -->
    <div class="character-transition" id="character-transition-9"></div>

    <!-- DESAFIO 09 -->
    <section class="challenge-section" id="challenge-09" data-color="#FFB3D9">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-09">Avaliação</h2>
                <h3 class="challenge-subtitle">Desafio 09</h3>
            </div>
            <div class="challenge-content-box">
                <p>As instalações multimídia desenvolvidas em sala mostraram diferentes estratégias pra envolver o público, tanto na orientação espacial quanto na dinâmica participativa do evento. O uso de <strong>mapas físicos interativos</strong> ajudou a situar e guiar os visitantes, facilitando o acesso e a compreensão dos espaços, enquanto soluções de <strong>gamificação e interação manual</strong> — como os colecionáveis e marcadores — estimularam o engajamento direto e lúdico com as atividades propostas. A prototipagem simples, criatividade na divisão das tarefas e o cuidado visual com os artefatos reforçaram um processo colaborativo e eficiente.</p>
                
                <p>Mesmo com esses avanços, surgem oportunidades de aprimoramento. É possível melhorar o <em>feedback</em> ao público através de respostas visuais, sonoras ou mecânicas mais claras, assim como inserir instruções mais objetivas diretamente nas interfaces dos protótipos. Detalhes de acessibilidade, comandos táteis ou legendas podem tornar as experiências ainda mais inclusivas.</p>
                
                <p>Um destaque: <strong>os dois protótipos poderiam se complementar</strong> numa proposta única. O mapa interativo funcionaria como base informativa, situando o público no evento, enquanto a <em>gamificação</em> agregaria desafios, recompensas e atividades que estimulam a participação. Essa integração proporcionaria navegação eficiente pelo espaço somada ao envolvimento ativo dos visitantes, formando uma solução robusta pra eventos de grande circulação. No geral, as propostas marcaram pontos importantes em direção de arte, usabilidade e inovação, reforçando o aprendizado prático dos conceitos de <em>design</em> multimídia.</p>
            </div>
            <div class="challenge-gallery">
                <img src="img/DESAFIO09_01.png" alt="Desafio 09 - Análise das Instalações">
            </div>
        </div>
    </section>

    <!-- TRANSIÇÃO PERSONAGEM 10 -->
    <div class="character-transition" id="character-transition-10"></div>

    <!-- DESAFIO 10 -->
    <section class="challenge-section" id="challenge-10" data-color="#FFA366">
        <div class="challenge-container">
            <div class="challenge-header">
                <h2 class="challenge-title challenge-title-10">Exposição</h2>
                <h3 class="challenge-subtitle">Desafio 10</h3>
            </div>
            <div class="challenge-content-box">                
                <p>Você acabou de passar por 10 desafios. Scrollou por personagens que zoomam na sua cara, títulos tortos, cores berrantes, transições absurdas. E provavelmente pensou: <em>"de onde esse maluco tirou essa estética toda?"</em></p>
                
                <p>Resposta: da abertura 1 de <em>Nichijou</em> — "Hyadain no Kakakata☆Kataomoi - C", do HYADAIN. <strong>Todos</strong> os <em>frames</em>, elementos pictóricos, cores, fontes e personagens que você viu no site foram retirados desse escopo específico. Nada veio do anime completo, de <em>fanart</em> ou de capítulos aleatórios. <strong>Um minuto e meio de material. Só isso.</strong></p>
                
                <p>A escolha faz sentido: o traço é simples, tudo colorido em tons chapados, parece que não vai acontecer nada demais. Mas aí vem o absurdo. O título fala de uma "vida ordinária", só que tudo desanda pro completamente <em>nonsense</em> rapidinho. <strong>É leveza virando caos só por existir</strong>, e é exatamente isso que a abertura entrega em 90 segundos.</p>
                
                <p>Por isso quis trazer esse contraste pro site: tem cara de simples, de "portfólio normal", mas do nada as cores gritam, as personagens pulam na tela quando você scrolla, o layout desencana da seriedade. É pra ser divertido de verdade, igual aquele início do anime onde você acha que vai ser uma <em>slice of life</em> tranquila e em segundos já tem alguém sendo lançado no espaço por causa de um pãozinho queimado.</p>
                
                <p>O vídeo da abertura tá logo abaixo. Aperta o play e vê de onde saiu essa bagunça toda — é basicamente o site inteiro condensado em 90 segundos.</p>
            </div>
            <div class="challenge-gallery">
                <iframe style="width: 100%; aspect-ratio: 16/9;" src="https://www.youtube.com/embed/qUk1ZoCGqsA?si=oGVW9idrkXcbDfCw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
        </div>
    </section>

    <!-- SEÇÃO DE CONTATO -->
    <section id="contact" class="contact-section">
        <video autoplay loop muted playsinline style="width: 100%; display: block; margin-bottom: 3rem; pointer-events: none;">
            <source src="img/RALEUMEUFI.mp4" type="video/mp4">
        </video>
        <h2>Obrigado por scrollar até aqui</h2>
        <p>Portfólio desenvolvido pra disciplina de Direção de Arte para Multimídia no curso de Sistemas e Mídias Digitais da UFC.</p>
        
        <div class="contact-links">
            <!-- GitHub -->
            <a href="https://github.com/jerbss" target="_blank" rel="noopener noreferrer" class="contact-link">
                <div class="contact-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </div>
                <span>GitHub</span>
            </a>

            <!-- Instagram -->
            <a href="https://instagram.com/jerdelicia" target="_blank" rel="noopener noreferrer" class="contact-link">
                <div class="contact-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                </div>
                <span>Instagram</span>
            </a>

            <!-- Email -->
            <a href="mailto:jerbessonc@alu.ufc.br" class="contact-link">
                <div class="contact-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.83-3.104 5.612 6.817h-18.779l5.513-6.812zm9.208-1.264l4.616-3.741v9.348l-4.616-5.607z"/>
                    </svg>
                </div>
                <span>Email</span>
            </a>
        </div>

        <footer>
            <p>&copy; Jerbesson Silva da Costa — 2025</p>
        </footer>
    </section>

    <!-- LIGHTBOX MODAL -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-close" id="lightbox-close"></div>
        <div class="lightbox-nav prev" id="lightbox-prev"></div>
        <div class="lightbox-content">
            <img src="" alt="" class="lightbox-image" id="lightbox-image">
        </div>
        <div class="lightbox-nav next" id="lightbox-next"></div>
        <div class="lightbox-counter" id="lightbox-counter">1 / 1</div>
    </div>

    <script>
        // ===============================================
        // LIGHTBOX / GALERIA MODAL
        // ===============================================
        
        const lightbox = document.getElementById('lightbox');
        const lightboxImage = document.getElementById('lightbox-image');
        const lightboxClose = document.getElementById('lightbox-close');
        const lightboxPrev = document.getElementById('lightbox-prev');
        const lightboxNext = document.getElementById('lightbox-next');
        const lightboxCounter = document.getElementById('lightbox-counter');
        
        let currentGallery = [];
        let currentIndex = 0;
        
        // Função para abrir o lightbox
        function openLightbox(images, index) {
            currentGallery = images;
            currentIndex = index;
            updateLightbox();
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden'; // Impede scroll do body
        }
        
        // Função para fechar o lightbox
        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = ''; // Restaura scroll
        }
        
        // Função para atualizar a imagem no lightbox
        function updateLightbox() {
            lightboxImage.src = currentGallery[currentIndex].src;
            lightboxImage.alt = currentGallery[currentIndex].alt;
            lightboxCounter.textContent = `${currentIndex + 1} / ${currentGallery.length}`;
            
            // Esconde setas se houver apenas 1 imagem
            if (currentGallery.length === 1) {
                lightboxPrev.style.display = 'none';
                lightboxNext.style.display = 'none';
            } else {
                lightboxPrev.style.display = 'flex';
                lightboxNext.style.display = 'flex';
            }
        }
        
        // Navegação: próxima imagem
        function nextImage() {
            currentIndex = (currentIndex + 1) % currentGallery.length;
            updateLightbox();
        }
        
        // Navegação: imagem anterior
        function prevImage() {
            currentIndex = (currentIndex - 1 + currentGallery.length) % currentGallery.length;
            updateLightbox();
        }
        
        // Event Listeners
        lightboxClose.addEventListener('click', closeLightbox);
        lightboxNext.addEventListener('click', nextImage);
        lightboxPrev.addEventListener('click', prevImage);
        
        // Fecha ao clicar fora da imagem
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });
        
        // Navegação por teclado (desktop)
        document.addEventListener('keydown', (e) => {
            if (!lightbox.classList.contains('active')) return;
            
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowRight') nextImage();
            if (e.key === 'ArrowLeft') prevImage();
        });
        
        // ===============================================
        // SWIPE GESTURES PARA MOBILE
        // ===============================================
        
        let touchStartX = 0;
        let touchEndX = 0;
        
        lightboxImage.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });
        
        lightboxImage.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, { passive: true });
        
        function handleSwipe() {
            const swipeThreshold = 50; // Mínimo de pixels para considerar swipe
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) < swipeThreshold) return;
            
            if (diff > 0) {
                // Swipe para esquerda = próxima imagem
                nextImage();
            } else {
                // Swipe para direita = imagem anterior
                prevImage();
            }
        }
        
        // Adiciona click listeners em todas as imagens das galerias
        document.addEventListener('DOMContentLoaded', () => {
            const galleries = document.querySelectorAll('.challenge-gallery');
            
            galleries.forEach(gallery => {
                const images = Array.from(gallery.querySelectorAll('img'));
                
                images.forEach((img, index) => {
                    img.addEventListener('click', () => {
                        openLightbox(images, index);
                    });
                });
            });
        });
        
        // ===============================================
        // ANIMAÇÃO DOS PERSONAGENS (código original)
        // ===============================================
        
        // Seleciona os elementos
        const characters = [
            document.getElementById('char1'),
            document.getElementById('char2'),
            document.getElementById('char3'),
            document.getElementById('char4'),
            document.getElementById('char5'),
            document.getElementById('char6'),
            document.getElementById('char7'),
            document.getElementById('char8'),
            document.getElementById('char9'),
            document.getElementById('char10')
        ];
        
        // Configurações de zoom para cada personagem
        // Dimensões originais das imagens: 1920x1080
        // Coordenadas de foco (X, Y) em pixels na imagem original
        // ===============================================
        // Coordenadas de foco JÁ CALCULADAS em porcentagem
        // (ex: char1 x = 690px / 1920px = 35.9%)
        // Otimizado para 60fps - sem cálculos pesados no scroll
        const zoomConfig = [
            { x: 35.9, y: 61.1 },  // char1: (690, 660)
            { x: 62.5, y: 46.3 },  // char2: (1200, 500)
            { x: 45.1, y: 48.1 },  // char3: (865, 520)
            { x: 54.2, y: 72.2 },  // char4: (1040, 780)
            { x: 28.1, y: 58.3 },  // char5: (540, 630)
            { x: 28.6, y: 80.6 },  // char6: (550, 870)
            { x: 78.1, y: 61.1 },  // char7: (1500, 660)
            { x: 41.7, y: 50.9 },  // char8: (800, 550)
            { x: 33.9, y: 57.4 },  // char9: (650, 620) ← CORRIGIDO
            { x: 50.0, y: 16.7 }   // char10: (960, 180)
        ];

        // Seleciona todas as seções de conteúdo
        const challengeSections = document.querySelectorAll('.challenge-section');
        
        // Seleciona o container dos personagens
        const scrollyContainer = document.querySelector('.scrolly-container');
        
        // Arrays das divs de transição dos personagens
        const characterTransitions = [
            document.getElementById('character-transition-1'),
            document.getElementById('character-transition-2'),
            document.getElementById('character-transition-3'),
            document.getElementById('character-transition-4'),
            document.getElementById('character-transition-5'),
            document.getElementById('character-transition-6'),
            document.getElementById('character-transition-7'),
            document.getElementById('character-transition-8'),
            document.getElementById('character-transition-9'),
            document.getElementById('character-transition-10')
        ];
        
        // Array dos títulos
        const characterTitles = document.querySelectorAll('.character-wrapper .challenge-title-bg');
        
        // === OTIMIZAÇÃO DE PERFORMANCE COM requestAnimationFrame ===
        let ticking = false;
        let lastKnownScrollPosition = 0;
        
        // Cache de valores para evitar recalcular no scroll
        let cachedTransitionPositions = [];
        let cachedScreenHeight = window.innerHeight;
        let cachedIsMobile = window.innerWidth < 768;
        
        // Função para recalcular posições (apenas em resize)
        function updateCachedPositions() {
            cachedScreenHeight = window.innerHeight;
            cachedIsMobile = window.innerWidth < 768;
            cachedTransitionPositions = characterTransitions.map(transition => {
                if (!transition) return null;
                const rect = transition.getBoundingClientRect();
                return {
                    top: window.scrollY + rect.top,
                    height: transition.offsetHeight
                };
            });
        }
        
        // Atualiza cache no load e resize (debounced)
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                updateCachedPositions();
                handleScroll();
            }, 150);
        }, { passive: true });

        function handleScroll() {
            const scrollY = lastKnownScrollPosition;
            
            // Determina qual personagem deve estar ativo baseado nas transições
            let activeCharacterIndex = -1;
            
            // Usa cache ao invés de getBoundingClientRect
            cachedTransitionPositions.forEach((position, index) => {
                if (!position) return;
                
                const transitionTop = position.top;
                const transitionBottom = transitionTop + position.height;
                
                // Se o scroll está dentro desta seção de transição
                if (scrollY >= transitionTop && scrollY < transitionBottom) {
                    activeCharacterIndex = index;
                }
            });
            
            // Esconde todos os personagens e títulos
            characters.forEach((char) => {
                char.classList.remove('active');
            });
            
            characterTitles.forEach((title) => {
                title.style.opacity = '0';
                title.style.visibility = 'hidden';
            });
            
            // Se há um personagem ativo, mostra e anima ele
            if (activeCharacterIndex !== -1 && characters[activeCharacterIndex]) {
                // Ativa o fundo cinza do container
                scrollyContainer.classList.add('active');
                
                const activeChar = characters[activeCharacterIndex];
                const position = cachedTransitionPositions[activeCharacterIndex];
                const transitionTop = position.top;
                
                activeChar.classList.add('active');
                
                // Mostra o título correspondente ao personagem ativo
                if (characterTitles[activeCharacterIndex]) {
                    const title = characterTitles[activeCharacterIndex];
                    title.style.visibility = 'visible';
                    // A opacidade e o transform serão controlados no bloco de animação
                }
                
                // Calcula o progresso dentro desta seção de transição (0 a 1)
                const localScrollY = scrollY - transitionTop;
                const progress = Math.min(localScrollY / cachedScreenHeight, 1);
                
                // === NOVOS CÁLCULOS DE ANIMAÇÃO COM ZONAS ===
                
                // --- DEFINA SUAS "ZONAS" ---
                // 0% a 15%: Imagem faz fade-in e fica em scale(1). (O "Respiro")
                const fadeInEnd = 0.15;
                // 15% a 80%: Imagem dá zoom de scale(1) até scale(maxScale).
                const zoomStart = 0.15;
                const zoomEnd = 0.8;
                // 80% a 100%: Imagem faz fade-out. Conteúdo faz fade-in.
                const fadeOutStart = 0.8;
                
                const maxScale = cachedIsMobile ? 4 : 6;
                
                // --- CALCULA O SCALE ---
                let scale;
                if (progress < zoomStart) {
                    // 1. Antes da zona de zoom, scale é 1.
                    scale = 1;
                } else if (progress > zoomEnd) {
                    // 2. Depois da zona de zoom, mantém o scale máximo.
                    scale = maxScale;
                } else {
                    // 3. Durante a zona de zoom, remapeia o progresso (de 0 a 1)
                    //    e calcula o scale proporcional.
                    const zoomProgress = (progress - zoomStart) / (zoomEnd - zoomStart);
                    scale = 1 + zoomProgress * (maxScale - 1);
                }
                
                // --- CALCULA A OPACIDADE DA IMAGEM ---
                let opacity;
                if (progress < fadeInEnd) {
                    // 1. Fade-in inicial (na zona de "respiro")
                    opacity = progress / fadeInEnd;
                } else if (progress < fadeOutStart) {
                    // 2. Totalmente visível (durante o zoom)
                    opacity = 1;
                } else {
                    // 3. Fade-out no final (enquanto o conteúdo entra)
                    const fadeOutProgress = (progress - fadeOutStart) / (1 - fadeOutStart);
                    opacity = 1 - Math.max(0, Math.min(1, fadeOutProgress));
                }
                
                // ===============================================
                // Aplica as transformações (SEM CÁLCULOS PESADOS)
                // Otimizado para 60fps - porcentagens pré-calculadas
                const focusConfig = zoomConfig[activeCharacterIndex];
                
                // Define o ponto de foco (transform-origin) usando a porcentagem pré-calculada
                activeChar.style.transformOrigin = `${focusConfig.x}% ${focusConfig.y}%`;
                
                // Aplica o scale e a opacidade (usando translate3d para GPU)
                activeChar.style.transform = `translate3d(-50%, -50%, 0) scale(${scale})`;
                activeChar.style.opacity = opacity;
                
                // Aplica o mesmo scale ao título para que ele acompanhe o zoom
                if (characterTitles[activeCharacterIndex]) {
                    const title = characterTitles[activeCharacterIndex];
                    
                    // Define a rotação e cor específica para cada personagem
                    const characterStyles = [
                        { rotation: -15, color: '#e7a15b' },      // Personagem 1 (Yuko) - Laranja
                        { rotation: -15, color: '#b7cb48' },      // Personagem 2 (Mai) - Verde-limão
                        { rotation: 45, color: '#dc94ac' },       // Personagem 3 (Mio) - Rosa
                        { rotation: 45, color: '#884f32' },      // Personagem 4 - Azul
                        { rotation: -20, color: '#d5818e' },       // Personagem 5 - Verde água
                        { rotation: 0, color: '#aa99c5' },      // Personagem 6 - Verde claro
                        { rotation: 0, color: '#e3755a' },       // Personagem 7 - Laranja coral
                        { rotation: 30, color: '#58a9ac' },      // Personagem 8 - Amarelo
                        { rotation: -15, color: '#df8f8e' },       // Personagem 9 - Rosa claro
                        { rotation: 0, color: '#edcd2d' }       // Personagem 10 - Laranja pêssego
                    ];
                    
                    const style = characterStyles[activeCharacterIndex] || characterStyles[0];
                    
                    title.style.transform = `translate(-50%, -50%) rotate(${style.rotation}deg) scale(${scale})`;
                    title.style.opacity = opacity;
                    
                    // Aplica a cor aos elementos do título
                    const titleVertical = title.querySelector('.title-vertical');
                    const titleSubtitle = title.querySelector('.title-subtitle');
                    const titleCredit = title.querySelector('.title-credit');
                    
                    if (titleVertical) titleVertical.style.color = style.color;
                    if (titleSubtitle) titleSubtitle.style.color = style.color;
                    if (titleCredit) titleCredit.style.color = style.color;
                }
                
                // === ATIVA O CONTEÚDO ===
                const nextContentSection = challengeSections[activeCharacterIndex];
                if (nextContentSection) {
                    // Gatilho agora deve corresponder ao 'fadeOutStart'
                    if (progress >= fadeOutStart) {
                        nextContentSection.classList.add('visible');
                    }
                }
            } else {
                // Remove o fundo cinza quando não há personagem ativo
                scrollyContainer.classList.remove('active');
            }
            
            // Reseta a flag após processar
            ticking = false;
        }

        // Event listener otimizado com requestAnimationFrame e passive
        window.addEventListener('scroll', () => {
            lastKnownScrollPosition = window.scrollY;
            
            if (!ticking) {
                window.requestAnimationFrame(() => {
                    handleScroll();
                    ticking = false;
                });
                ticking = true;
            }
        }, { passive: true }); // PASSIVE = não bloqueia o scroll

        // === INICIALIZAÇÃO ===
        document.addEventListener('DOMContentLoaded', () => {
            // Inicializa o cache de posições
            updateCachedPositions();
            
            // Trigger inicial do handleScroll para configurar visibilidade correta
            handleScroll();
            
            // Esconder loader após carregar
            const loader = document.getElementById('loader');
            window.addEventListener('load', () => {
                setTimeout(() => {
                    loader.classList.add('hidden');
                    document.body.classList.remove('loading');
                }, 500);
            });
        });

        // === CONTROLE DO SCROLL PROMPT (só aparece na introdução) ===
        const scrollPrompt = document.querySelector('.scroll-prompt');
        const introSection = document.getElementById('intro');
        
        window.addEventListener('scroll', () => {
            if (introSection && scrollPrompt) {
                const introBottom = introSection.offsetTop + introSection.offsetHeight;
                const scrollPosition = window.scrollY + window.innerHeight;
                
                // Esconde quando passar da introdução
                if (window.scrollY > introSection.offsetHeight * 0.5) {
                    scrollPrompt.classList.add('hidden');
                } else {
                    scrollPrompt.classList.remove('hidden');
                }
            }
        });

        // === CONTROLE DO MENU DE NAVEGAÇÃO ===
        const menuToggle = document.getElementById('menu-toggle');
        const menuOverlay = document.getElementById('menu-overlay');
        const menuClose = document.querySelector('.menu-close');
        const menuLinks = document.querySelectorAll('.menu-list a');

        // Função para abrir o menu
        function openMenu() {
            menuOverlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Previne scroll do body
        }

        // Função para fechar o menu
        function closeMenu() {
            menuOverlay.classList.add('hidden');
            document.body.style.overflow = ''; // Restaura scroll do body
        }

        // Toggle do menu ao clicar no botão hamburguer
        menuToggle.addEventListener('click', openMenu);

        // Fechar menu ao clicar no botão de fechar
        menuClose.addEventListener('click', closeMenu);

        // Fechar menu ao clicar no fundo escuro
        menuOverlay.addEventListener('click', (e) => {
            if (e.target === menuOverlay) {
                closeMenu();
            }
        });

        // Fechar menu com tecla ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !menuOverlay.classList.contains('hidden')) {
                closeMenu();
            }
        });

        // Navegação suave ao clicar nos itens do menu
        menuLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href');
                const menuIndex = parseInt(link.getAttribute('data-index'));
                
                // Fecha o menu
                closeMenu();
                
                // === NAVEGAÇÃO BASEADA EM ELEMENTOS REAIS ===
                // Usa as posições reais dos elementos no DOM
                
                let targetScroll;
                
                if (menuIndex === 0) {
                    // Intro
                    targetScroll = 0;
                    console.log('📍 Navegando para:', 'Intro', '| targetScroll:', targetScroll);
                } else if (menuIndex >= 1 && menuIndex <= 10) {
                    // Desafios - navega para o TÍTULO do desafio (não para o topo da seção)
                    const challengeId = `challenge-${String(menuIndex).padStart(2, '0')}`;
                    const challengeElement = document.getElementById(challengeId);
                    
                    if (challengeElement) {
                        // FORÇA A VISIBILIDADE DO CONTEÚDO ao navegar via menu
                        challengeElement.classList.add('visible');
                        
                        // Busca o título dentro da seção
                        const titleElement = challengeElement.querySelector('.challenge-title');
                        
                        if (titleElement) {
                            // Navega para o título, garantindo que ele apareça visível
                            const rect = titleElement.getBoundingClientRect();
                            targetScroll = window.scrollY + rect.top - 100; // -100px para dar um respiro no topo
                            console.log('📍 Navegando para:', challengeId, '| Título encontrado | rect.top:', rect.top, '| window.scrollY:', window.scrollY, '| targetScroll:', targetScroll);
                        } else {
                            // Fallback: se não encontrar o título, vai para a seção mesmo
                            const rect = challengeElement.getBoundingClientRect();
                            targetScroll = window.scrollY + rect.top;
                            console.log('📍 Navegando para:', challengeId, '| Título NÃO encontrado, usando seção | targetScroll:', targetScroll);
                        }
                    } else {
                        targetScroll = 0;
                        console.warn('⚠️ Elemento não encontrado:', challengeId);
                    }
                } else if (menuIndex === 11) {
                    // Contato
                    const contactElement = document.getElementById('contact');
                    if (contactElement) {
                        const rect = contactElement.getBoundingClientRect();
                        targetScroll = window.scrollY + rect.top;
                        console.log('📍 Navegando para:', 'contact', '| targetScroll:', targetScroll);
                    } else {
                        targetScroll = 0;
                        console.warn('⚠️ Elemento contact não encontrado');
                    }
                } else {
                    targetScroll = 0;
                    console.warn('⚠️ Menu index inválido:', menuIndex);
                }
                
                // Scroll suave para a seção
                console.log('🎯 Scrolling to:', targetScroll);
                window.scrollTo({
                    top: targetScroll,
                    behavior: 'smooth'
                });
            });
        });
    </script>

</body>
</html>
